inherit ant

DESCRIPTION="Compiler/interpreter generator for Java"
HOMEPAGE="http://www.sablecc.org/"
SRC_URI="mirror://sourceforge/${PN}/${P}.tar.gz"

ANT_BUILD_TARGETS="jar"

src_test() {
	cd ${B}
	cygjava -jar lib/${PN}.jar ${B}/doc/test.sablecc3
	cygjavac -source 5.0 expression/
}

ANT_INSTALL_JARS="lib/sablecc.jar"

src_install() {
	cd ${B}
	dojar lib/${PN}.jar
	java_wrapper ${PN} ${JAVA_DIR}/${PN}.jar
}
DOCS="README.html doc/description.html doc/test.sablecc3"
